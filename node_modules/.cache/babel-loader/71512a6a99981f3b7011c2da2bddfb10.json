{"ast":null,"code":"import \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"SavedImagesComponent\",\n  created: function created() {\n    var _this = this;\n\n    (function () {\n      _this.$props.dateWasSelected = false;\n    });\n  },\n  props: {\n    currentFavorites: Array,\n    dateWasSelected: Boolean,\n    mediaType: String,\n    mediaTitle: String,\n    mediaURL: String,\n    explanation: String\n  },\n  data: function data() {\n    return {\n      apiKey: \"5NqF6jh9w3uVhB9rwEeUJfSIwBgcavPvzYEO7lH3\"\n    };\n  },\n  methods: {\n    unsave: function unsave(index) {\n      this.$props.currentFavorites.splice(index, 1);\n    },\n    fetchMedia: function fetchMedia(selectedDate) {\n      var _this2 = this;\n\n      var URL = \"https://api.nasa.gov/planetary/apod?api_key=\".concat(this.$data.apiKey, \"&date=\").concat(selectedDate);\n      fetch(URL).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        console.log(json);\n        _this2.$props.dateWasSelected = true;\n        _this2.$props.mediaType = json.media_type;\n        _this2.$props.mediaTitle = json.title;\n        _this2.$props.mediaURL = json.url;\n        _this2.$props.explanation = json.explanation;\n      });\n    },\n    goBack: function goBack() {\n      this.$props.dateWasSelected = false;\n    }\n  },\n  computed: {\n    isSaved: function isSaved() {\n      var _this3 = this;\n\n      return this.$root.$data.currentFavorites.find(function (date) {\n        return date === _this3.$root.$data.currentDate;\n      }) !== undefined;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACAA,8BADA;AAEAC,SAFA,qBAEA;AAAA;;AACA;AACA;AACA,KAFA;AAGA,GANA;AAOAC;AACAC,2BADA;AAEAC,4BAFA;AAGAC,qBAHA;AAIAC,sBAJA;AAKAC,oBALA;AAMAC;AANA,GAPA;AAeAC;AACA;AACAC;AADA;AAGA,GAnBA;AAoBAC;AACAC,UADA,kBACAC,KADA,EACA;AACA;AACA,KAHA;AAIAC,cAJA,sBAIAC,YAJA,EAIA;AAAA;;AACA;AACAC,iBACAC,IADA,CACA;AAAA;AAAA,OADA,EAEAA,IAFA,CAEA;AACAC;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KAhBA;AAiBAC,UAjBA,oBAiBA;AACA;AACA;AAnBA,GApBA;AAyCAC;AACAC,WADA,qBACA;AAAA;;AACA,aACA,uCACA;AAAA;AAAA,OADA,MAEAC,SAHA;AAKA;AAPA;AAzCA","names":["name","created","props","currentFavorites","dateWasSelected","mediaType","mediaTitle","mediaURL","explanation","data","apiKey","methods","unsave","index","fetchMedia","selectedDate","fetch","then","console","goBack","computed","isSaved","undefined"],"sourceRoot":"src/components","sources":["SavedImagesComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <div id=\"login-prompt\" v-show=\"!this.$root.$data.isLoggedIn\">\n      <p>You are not logged in yet. Please log in to browse.</p>\n    </div>\n    <div v-show=\"this.$root.$data.isLoggedIn\">\n      <div id=\"saved-images-page\" v-show=\"!dateWasSelected\">\n        <p>These are the dates of your favorite images</p>\n        <ol id=\"saved-items\">\n          <li v-for=\"(date, i) in currentFavorites\" :key=\"i\" id=\"saved-item\">\n            <button @click.prevent=\"fetchMedia(date)\">\n              {{ date }}\n            </button>\n            <button v-on:click.prevent=\"unsave(i)\">Unsave</button>\n          </li>\n        </ol>\n      </div>\n      <div id=\"result\" v-show=\"dateWasSelected\">\n        <h3 id=\"result-header\">\n          <button id=\"back-button\">&lt; Back</button>\n          Astronomy image of {{ this.$root.$data.currentDate }}\n          <button id=\"save-button\" v-show=\"!isSaved\" @click.prevent=\"save\">\n            Save\n          </button>\n          <button id=\"unsave-button\" v-show=\"isSaved\" @click.prevent=\"unsave\">\n            Unsave\n          </button>\n        </h3>\n        <h4 id=\"media-title\">{{ mediaTitle }}</h4>\n        <div id=\"result-container\">\n          <div id=\"media-container\">\n            <div id=\"image\" v-show=\"mediaType === 'image'\">\n              <img v-bind:src=\"mediaURL\" />\n            </div>\n            <div id=\"video\" v-show=\"mediaType === 'video'\">\n              <iframe v-bind:src=\"mediaURL\"></iframe>\n            </div>\n          </div>\n          <div id=\"explanation-container\">\n            <p>\n              {{ explanation }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SavedImagesComponent\",\n  created() {\n    () => {\n      this.$props.dateWasSelected = false;\n    };\n  },\n  props: {\n    currentFavorites: Array,\n    dateWasSelected: Boolean,\n    mediaType: String,\n    mediaTitle: String,\n    mediaURL: String,\n    explanation: String,\n  },\n  data: function () {\n    return {\n      apiKey: \"5NqF6jh9w3uVhB9rwEeUJfSIwBgcavPvzYEO7lH3\",\n    };\n  },\n  methods: {\n    unsave(index) {\n      this.$props.currentFavorites.splice(index, 1);\n    },\n    fetchMedia(selectedDate) {\n      const URL = `https://api.nasa.gov/planetary/apod?api_key=${this.$data.apiKey}&date=${selectedDate}`;\n      fetch(URL)\n        .then((response) => response.json())\n        .then((json) => {\n          console.log(json);\n          this.$props.dateWasSelected = true;\n          this.$props.mediaType = json.media_type;\n          this.$props.mediaTitle = json.title;\n          this.$props.mediaURL = json.url;\n          this.$props.explanation = json.explanation;\n        });\n    },\n    goBack() {\n      this.$props.dateWasSelected = false;\n    },\n  },\n  computed: {\n    isSaved() {\n      return (\n        this.$root.$data.currentFavorites.find(\n          (date) => date === this.$root.$data.currentDate\n        ) !== undefined\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-family: monospace !important;\n  color: #4f4f4f;\n}\n#login-prompt,\n#saved-images-page {\n  margin-top: 125px;\n}\n#saved-items {\n  /*get rid of bullet points*/\n  list-style-type: none;\n}\n\n#result {\n  margin: 90px 0 200px 0;\n}\n\ninput,\nlabel {\n  margin: 0.4rem 0;\n}\n#search-box-lable {\n  display: inline-block;\n  font-size: 1rem;\n}\n\n#media-container,\n#explanation-container {\n  justify-content: center;\n  margin: 50px 30px;\n}\n#image,\n#video {\n  display: flex;\n  justify-content: center;\n}\n#image > img {\n  width: 100%;\n}\n\n#explanation-container > p {\n  font-size: 2em;\n}\n#save-button,\n#unsave-button {\n  float: right;\n}\n\n#result-header {\n  font-weight: bold;\n  font-size: 2.75em;\n  margin: 160px 30px 20px 30px;\n}\n#media-title {\n  color: gray;\n  font-weight: bold;\n  font-size: 2.75em;\n  margin: 0 50px;\n}\n\n#video {\n  position: relative;\n  padding-bottom: 56.25%; /* 16:9, which is 56.25% of width */\n  height: 0;\n}\n\n#video > iframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n}\n@media only screen and (max-width: 999px) {\n  #search-button {\n    width: 100%;\n  }\n  #media-container {\n    margin: 10px;\n  }\n}\n\n@media only screen and (min-width: 1200px) {\n  /*#result-container{*/\n  /*    display: flex;*/\n  /*}*/\n  #media-container {\n    float: left;\n    width: 65%;\n    margin: 30px;\n  }\n  #search-box-lable {\n    margin: 0 15px;\n  }\n  #explanation-container {\n    margin: 0 30px 100px 30px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}