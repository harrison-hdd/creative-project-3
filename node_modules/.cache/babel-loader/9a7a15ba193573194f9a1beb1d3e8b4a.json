{"ast":null,"code":"import \"core-js/modules/es.string.pad-start.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\nimport ImageBrowser from \"@/components/ImageBrowser\";\nexport default {\n  name: \"BrowseView\",\n  components: {\n    ImageBrowser: ImageBrowser\n  },\n  methods: {\n    apiKey: function apiKey() {\n      return \"5NqF6jh9w3uVhB9rwEeUJfSIwBgcavPvzYEO7lH3\";\n    },\n    managePage: function managePage() {\n      var _this = this;\n\n      console.log(\"In manage Page\");\n      this.setup();\n      var today = document.getElementById(\"search-box\").value;\n      this.fetchAPI(today);\n      document.getElementById(\"search-button\").addEventListener(\"click\", function (event) {\n        event.preventDefault();\n        var selectedDate = document.getElementById(\"search-box\").value;\n\n        _this.fetchAPI(selectedDate);\n      });\n    },\n    setup: function setup() {\n      var now = new Date();\n      var dd = String(now.getDate()).padStart(2, \"0\");\n      var mm = String(now.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n      var yyyy = now.getFullYear();\n      var today = \"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd);\n      var maxDateAttr = document.createAttribute(\"max\");\n      var valueAttr = document.createAttribute(\"value\");\n      maxDateAttr.value = today;\n      valueAttr.value = today;\n      document.getElementById(\"search-box\").setAttributeNode(maxDateAttr);\n      document.getElementById(\"search-box\").setAttributeNode(valueAttr);\n    },\n    fetchAPI: function fetchAPI(selectedDate) {\n      document.getElementById(\"result\").innerHTML = \"\";\n      var resultHeader = document.createElement(\"h3\");\n      resultHeader.id = \"result-header\";\n      document.getElementById(\"result\").appendChild(resultHeader);\n      var mediaTitle = document.createElement(\"h4\");\n      mediaTitle.id = \"media-title\";\n      document.getElementById(\"result\").appendChild(mediaTitle);\n      var resultContainer = document.createElement(\"div\");\n      resultContainer.id = \"result-container\";\n      document.getElementById(\"result\").appendChild(resultContainer);\n      var URL = \"https://api.nasa.gov/planetary/apod?api_key=\".concat(this.apiKey(), \"&date=\").concat(selectedDate);\n      fetch(URL).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (json) {\n        console.log(json);\n        resultHeader.innerText = \"Astronomy \".concat(json.media_type, \" for \").concat(selectedDate);\n        var mediaContainer = document.createElement(\"div\");\n        mediaContainer.id = \"media-container\";\n        mediaTitle.innerText = json.title;\n        var mediaDiv = document.createElement(\"div\");\n        mediaContainer.appendChild(mediaDiv);\n\n        if (json.media_type === \"image\") {\n          mediaDiv.id = \"image\";\n          var image = document.createElement(\"img\");\n          var imgLink = document.createAttribute(\"src\");\n          imgLink.value = json.url;\n          image.setAttributeNode(imgLink);\n          mediaDiv.appendChild(image);\n        } else if (json.media_type === \"video\") {\n          mediaDiv.id = \"video\";\n          var video = document.createElement(\"iframe\");\n          var videoLink = document.createAttribute(\"src\");\n          videoLink.value = json.url;\n          video.setAttributeNode(videoLink);\n          mediaDiv.appendChild(video);\n        }\n\n        document.getElementById(\"result-container\").appendChild(mediaContainer);\n        var explanationContainer = document.createElement(\"div\");\n        explanationContainer.id = \"explanation-container\";\n        var explanation = document.createElement(\"p\");\n        explanation.textContent = json.explanation;\n        explanationContainer.appendChild(explanation);\n        document.getElementById(\"result-container\").appendChild(explanationContainer);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;AAOA;AACA;AACAA,oBADA;AAEAC;AACAC;AADA,GAFA;AAKAC;AACAC,UADA,oBACA;AACA;AACA,KAHA;AAIAC,cAJA,wBAIA;AAAA;;AACAC;AACA;AACA;AACA;AACAC,eACAC,cADA,CACA,eADA,EAEAC,gBAFA,CAEA,OAFA,EAEA;AACAC;AACA;;AACA;AACA,OANA;AAOA,KAhBA;AAiBAC,SAjBA,mBAiBA;AACA;AACA;AACA,2DAHA,CAGA;;AACA;AACA;AAEA;AACA;AACAC;AACAC;AACAN;AACAA;AACA,KA9BA;AA+BAO,YA/BA,oBA+BAC,YA/BA,EA+BA;AACAR;AACA;AACAS;AACAT;AAEA;AACAU;AACAV;AAEA;AACAW;AACAX;AAEA;AAEAY,iBACAC,IADA,CACA;AACAd;AACA;AACA,OAJA,EAKAc,IALA,CAKA;AACAd;AACAU;AAEA;AACAK;AACAJ;AAEA;AACAI;;AAEA;AACAC;AACA;AACA;AACAC;AACAC;AACAF;AACA,SAPA,MAOA;AACAA;AACA;AACA;AAEAG;AACAC;AACAJ;AACA;;AACAf,iBACAC,cADA,CACA,kBADA,EAEAmB,WAFA,CAEAN,cAFA;AAIA;AACAO;AACA;AACAC;AACAD;AACArB,iBACAC,cADA,CACA,kBADA,EAEAmB,WAFA,CAEAC,oBAFA;AAGA,OA5CA;AA6CA;AA5FA;AALA","names":["name","components","ImageBrowser","methods","apiKey","managePage","console","document","getElementById","addEventListener","event","setup","maxDateAttr","valueAttr","fetchAPI","selectedDate","resultHeader","mediaTitle","resultContainer","fetch","then","mediaContainer","mediaDiv","imgLink","image","videoLink","video","appendChild","explanationContainer","explanation"],"sourceRoot":"src/views","sources":["BrowseView.vue"],"sourcesContent":["<template>\n  <div onload=\"managePage()\">\n    <ImageBrowser></ImageBrowser>\n  </div>\n</template>\n\n<script>\nimport ImageBrowser from \"@/components/ImageBrowser\";\nexport default {\n  name: \"BrowseView\",\n  components: {\n    ImageBrowser,\n  },\n  methods: {\n    apiKey() {\n      return \"5NqF6jh9w3uVhB9rwEeUJfSIwBgcavPvzYEO7lH3\";\n    },\n    managePage() {\n      console.log(\"In manage Page\");\n      this.setup();\n      const today = document.getElementById(\"search-box\").value;\n      this.fetchAPI(today);\n      document\n        .getElementById(\"search-button\")\n        .addEventListener(\"click\", (event) => {\n          event.preventDefault();\n          const selectedDate = document.getElementById(\"search-box\").value;\n          this.fetchAPI(selectedDate);\n        });\n    },\n    setup() {\n      let now = new Date();\n      let dd = String(now.getDate()).padStart(2, \"0\");\n      let mm = String(now.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n      let yyyy = now.getFullYear();\n      let today = `${yyyy}-${mm}-${dd}`;\n\n      let maxDateAttr = document.createAttribute(\"max\");\n      let valueAttr = document.createAttribute(\"value\");\n      maxDateAttr.value = today;\n      valueAttr.value = today;\n      document.getElementById(\"search-box\").setAttributeNode(maxDateAttr);\n      document.getElementById(\"search-box\").setAttributeNode(valueAttr);\n    },\n    fetchAPI(selectedDate) {\n      document.getElementById(\"result\").innerHTML = \"\";\n      let resultHeader = document.createElement(\"h3\");\n      resultHeader.id = \"result-header\";\n      document.getElementById(\"result\").appendChild(resultHeader);\n\n      let mediaTitle = document.createElement(\"h4\");\n      mediaTitle.id = \"media-title\";\n      document.getElementById(\"result\").appendChild(mediaTitle);\n\n      let resultContainer = document.createElement(\"div\");\n      resultContainer.id = \"result-container\";\n      document.getElementById(\"result\").appendChild(resultContainer);\n\n      const URL = `https://api.nasa.gov/planetary/apod?api_key=${this.apiKey()}&date=${selectedDate}`;\n\n      fetch(URL)\n        .then((response) => {\n          console.log(response);\n          return response.json();\n        })\n        .then((json) => {\n          console.log(json);\n          resultHeader.innerText = `Astronomy ${json.media_type} for ${selectedDate}`;\n\n          let mediaContainer = document.createElement(\"div\");\n          mediaContainer.id = \"media-container\";\n          mediaTitle.innerText = json.title;\n\n          let mediaDiv = document.createElement(\"div\");\n          mediaContainer.appendChild(mediaDiv);\n\n          if (json.media_type === \"image\") {\n            mediaDiv.id = \"image\";\n            let image = document.createElement(\"img\");\n            let imgLink = document.createAttribute(\"src\");\n            imgLink.value = json.url;\n            image.setAttributeNode(imgLink);\n            mediaDiv.appendChild(image);\n          } else if (json.media_type === \"video\") {\n            mediaDiv.id = \"video\";\n            let video = document.createElement(\"iframe\");\n            let videoLink = document.createAttribute(\"src\");\n\n            videoLink.value = json.url;\n            video.setAttributeNode(videoLink);\n            mediaDiv.appendChild(video);\n          }\n          document\n            .getElementById(\"result-container\")\n            .appendChild(mediaContainer);\n\n          let explanationContainer = document.createElement(\"div\");\n          explanationContainer.id = \"explanation-container\";\n          let explanation = document.createElement(\"p\");\n          explanation.textContent = json.explanation;\n          explanationContainer.appendChild(explanation);\n          document\n            .getElementById(\"result-container\")\n            .appendChild(explanationContainer);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module"}